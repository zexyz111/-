<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>CloudFlow â€” AI Music Player</title>

<script src="https://w.soundcloud.com/player/api.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>

/* =====================================================
   GLOBAL DESIGN SYSTEM
===================================================== */

:root{
--bg:#050510;
--glass:rgba(255,255,255,.06);
--border:rgba(255,255,255,.12);
--accent:#7c7cff;
--accent2:#4fd1ff;
}

*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:Inter,sans-serif;
}

body{
background:radial-gradient(circle at 20% 20%,#0a0a2a,#050510 60%);
color:white;
overflow-x:hidden;
}

/* =====================================================
   ANIMATED BACKGROUND
===================================================== */

body::before{
content:"";
position:fixed;
inset:0;
background:
radial-gradient(circle at 80% 30%,#7c7cff22,transparent 40%),
radial-gradient(circle at 10% 80%,#4fd1ff22,transparent 40%);
filter:blur(80px);
z-index:-1;
animation:bgmove 18s linear infinite alternate;
}

@keyframes bgmove{
from{transform:translateY(-40px)}
to{transform:translateY(40px)}
}

/* =====================================================
   NAVBAR
===================================================== */

nav{
position:sticky;
top:0;
display:flex;
justify-content:space-between;
align-items:center;
padding:18px 40px;
background:rgba(5,5,16,.7);
backdrop-filter:blur(20px);
border-bottom:1px solid var(--border);
z-index:10;
}

.logo{
font-weight:800;
letter-spacing:.5px;
font-size:20px;
}

/* =====================================================
   SEARCH
===================================================== */

.container{
max-width:1100px;
margin:auto;
padding:40px;
}

.search{
width:100%;
padding:18px;
border-radius:16px;
border:none;
background:#0f0f1f;
color:white;
font-size:18px;
outline:none;
transition:.3s;
}

.search:focus{
box-shadow:0 0 0 2px var(--accent);
}

/* =====================================================
   TRACK GRID
===================================================== */

.results{
margin-top:30px;
display:grid;
grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
gap:24px;
}

.track{
background:var(--glass);
border:1px solid var(--border);
border-radius:22px;
overflow:hidden;
cursor:pointer;
transition:.35s;
backdrop-filter:blur(25px);
position:relative;
}

.track:hover{
transform:translateY(-8px) scale(1.02);
box-shadow:0 20px 60px rgba(0,0,0,.6);
}

.cover{
width:100%;
height:260px;
background-size:cover;
background-position:center;
}

.trackinfo{
padding:16px;
}

.title{
font-weight:600;
}

.artist{
opacity:.6;
font-size:14px;
margin-top:4px;
}

/* glow hover */

.track::after{
content:"";
position:absolute;
inset:0;
background:linear-gradient(120deg,transparent,#7c7cff33,transparent);
opacity:0;
transition:.4s;
}

.track:hover::after{
opacity:1;
}

/* =====================================================
   MINI PLAYER
===================================================== */

.player{
position:fixed;
bottom:0;
left:0;
width:100%;
height:120px;
background:rgba(0,0,0,.9);
border-top:1px solid #222;
backdrop-filter:blur(20px);
display:flex;
flex-direction:column;
}

.player-top{
height:4px;
background:linear-gradient(90deg,var(--accent),var(--accent2));
animation:wave 2s linear infinite;
}

@keyframes wave{
0%{transform:translateX(-100%)}
100%{transform:translateX(100%)}
}

.player-ui{
display:flex;
align-items:center;
gap:16px;
padding:10px 20px;
}

.player-cover{
width:70px;
height:70px;
border-radius:12px;
background-size:cover;
background-position:center;
}

.player-meta{
flex:1;
}

iframe{
width:100%;
height:0;
border:none;
}

/* =====================================================
   SCROLLBAR
===================================================== */

::-webkit-scrollbar{
width:8px;
}

::-webkit-scrollbar-thumb{
background:#222;
border-radius:10px;
}

</style>
</head>

<body>

<nav>
<div class="logo">ðŸŽ§ CloudFlow</div>
<div>SoundCloud Web Player</div>
</nav>

<div class="container">

<input class="search"
placeholder="Search SoundCloud tracks..."
onkeydown="if(event.key==='Enter')search(this.value)"
>

<div class="results" id="results"></div>

</div>

<!-- MINI PLAYER -->

<div class="player">

<div class="player-top"></div>

<div class="player-ui">
<div class="player-cover" id="playerCover"></div>

<div class="player-meta">
<div id="playerTitle">Nothing playing</div>
<div id="playerArtist" style="opacity:.6;font-size:14px"></div>
</div>
</div>

<iframe id="scPlayer"></iframe>

</div>

<script>

/* =====================================================
   CONFIG
===================================================== */

const CLIENT_ID="PASTE_CLIENT_ID_HERE";

/* =====================================================
   SEARCH (REAL API)
===================================================== */

async function search(query){

const res=await fetch(
`https://api-v2.soundcloud.com/search/tracks?q=${encodeURIComponent(query)}&client_id=${CLIENT_ID}&limit=18`
);

const data=await res.json();

const container=document.getElementById("results");
container.innerHTML="";

data.collection.forEach(track=>{

const art =
track.artwork_url
? track.artwork_url.replace("-large","-t500x500")
: "https://via.placeholder.com/500x500?text=No+Cover";

const div=document.createElement("div");
div.className="track";

div.innerHTML=`
<div class="cover" style="background-image:url('${art}')"></div>
<div class="trackinfo">
<div class="title">${track.title}</div>
<div class="artist">${track.user.username}</div>
</div>
`;

div.onclick=()=>playTrack(track);

container.appendChild(div);

});

}

/* =====================================================
   PLAYER FIX (NO ERROR)
===================================================== */

let widget;

function playTrack(track){

const iframe=document.getElementById("scPlayer");

iframe.src=
`https://w.soundcloud.com/player/?url=${encodeURIComponent(track.permalink_url)}&auto_play=true&visual=false`;

setTimeout(()=>{

widget=SC.Widget(iframe);

widget.bind(SC.Widget.Events.READY,()=>{
widget.play();
});

},400);

/* update mini player */

document.getElementById("playerCover").style.backgroundImage=
`url(${track.artwork_url?.replace("-large","-t500x500")})`;

document.getElementById("playerTitle").innerText=track.title;
document.getElementById("playerArtist").innerText=track.user.username;

}

</script>

</body>
</html>
